import {AppearList} from './src/appear-list';
import AboutMe from './src/about-me';
import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";

import duskOwl from './src/dusk-owl';

import hype from "./assets/images/hype.png";
import allCaps from './assets/images/all-caps.png';
import cssIsAwesome from './assets/images/css-is-awesome.png';
import jsGuild from './assets/images/js-guild.png';
import brendanYoung from './assets/images/brendan.jpg';
import brendanSuit from './assets/images/brendan-suit.jpg';

import trustFall from './assets/images/trust-fall.gif';
import benderFlexo from './assets/images/bender-flexo.gif';
import sayMyNameBeyonce from './assets/images/say-my-name-beyonce.gif';
import sayMyNameVoldemort from './assets/images/say-my-name-voldemort.gif';
import taylorExcited from './assets/images/taylor-excited.gif';
import shrodinger from './assets/images/shrodinger.gif';
import thankYou from './assets/images/thank-you.gif';
import trustMe from './assets/images/trust-me.gif';
import trustMeBad from './assets/images/trust-me-bad.gif';
import powerDown from './assets/images/power-down.gif';
import unknown from './assets/images/unknown.png';
import sonicScrewdriver from './assets/images/sonic-screwdriver.gif'
import doctorTransformation from './assets/images/doctor-transformation.gif'
import deepBreath from './assets/images/deep-breath.gif';
import Emoji, {EmojiWrapper} from './src/emoji';

import {nightOwl, github, vsDark, dracula, duotoneDark, duotoneLight, oceanicNext, shadesOfPurple, ultramin } from "@code-surfer/themes";
import customTheme from "./src/theme";
export const theme = customTheme;

# Nothing Generic About It

---

<AboutMe/>


---
# #ALL-CAPS-TYPING

<img style={{width: '100%', marginBottom: '20px'}} src={allCaps} />

---

# JS Guild

<img style={{height: '20%', marginBottom: '20px'}} src={cssIsAwesome} />
<img style={{height: '20%', marginBottom: '20px'}} src={jsGuild} />
<a href="https://dbx.link/js-guild-history">drl/js-guild-history</a>

---

# Brendan

<img style={{height: '60%', marginBottom: '20px'}} src={brendanYoung} />

---

# Brendan

<img style={{height: '60%', marginBottom: '20px'}} src={brendanSuit} />

---

# Nothing Generic About It

---

<img style={{height: '70%', marginBottom: '20px'}} src={hype} />

<a href="https://matthewgerstman.com/talks">matthewgerstman.com/talks</a>

---
# Questions you've had
---
# How do I create a function that returns multiple types?
---
# How do i get the type inside a promise?
---
# Can I use different types based on some state?
---
# How do I tell TypeScript I know something's wrong?
---
# How do I type the shiny new React pattern?

<AppearList marginTop="-40px">
  <li><Emoji name="typescript.jpg" size="40px" /> HOCs</li>
  <li><Emoji name="typescript.jpg" size="40px" /> Render Props</li>
  <li><Emoji name="typescript.jpg" size="40px" /> Hooks</li>
</AppearList>

---

# Any

---

<img src={trustMe} style={{height:"90%"}} />

---

<img src={trustFall} style={{height:"90%"}} />

---

<img src={trustMeBad} style={{height:"90%"}} />

---

<img src={powerDown} style={{height:"90%"}} />


---

# Unknown

---

<img src={benderFlexo} style={{height: "90%"}} />

---

<img src={unknown} style={{height:"80%"}} />
<a href="https://blog.logrocket.com/when-to-use-never-and-unknown-in-typescript-5e4d6c5799ad/">Log Rocket</a>

---
# Unknown
<AppearList>
  <li><Emoji name="typescript.jpg" size="40px" /> unknown still has a value</li>
  <li><Emoji name="typescript.jpg" size="40px" /> any value can be assigned to unknown</li>
  <li><Emoji name="typescript.jpg" size="40px" /> requires we determine the type at runtime</li>
</AppearList>

<Notes>
Honest any

</Notes>

---

<CodeSurfer>

```ts file=./snippets/unknown.ts
```

```ts 1[11:20] file=./snippets/unknown.ts
```

```ts 2,3 file=./snippets/unknown.ts
```

```ts 5,6 file=./snippets/unknown.ts
```

```ts 8,9 file=./snippets/unknown.ts
```

```ts 11:15 file=./snippets/unknown.ts
```


</CodeSurfer>

---

# How do we determine more advanced types?

---

# Type Narrowing

---

# Dynamic checks give us information about values at run-time

---

# type narrowing is the process of reflecting this information in the type-checker at compile time.

---

<img src={sonicScrewdriver} style={{height: "90%"}} />

---

# Structurally Typed

---

<CodeSurfer>

```ts file=./snippets/structural-types.ts
```

```ts 1:7 file=./snippets/structural-types.ts
```

```ts 9:10 file=./snippets/structural-types.ts
```

```ts 12:14 file=./snippets/structural-types.ts
```

```ts 16:19 file=./snippets/structural-types.ts
```

```ts file=./snippets/structural-type-error.ts
```

</CodeSurfer>

---


# We can use those structural types to derive other types

---

# Intersection Types

---

<CodeSurfer>

```ts file=./snippets/intersection.ts
```

```ts 1:2 file=./snippets/intersection.ts
```

```ts 4 file=./snippets/intersection.ts
```

```ts 5 file=./snippets/intersection.ts
```

```ts 4:5 file=./snippets/intersection.ts
```

```ts 7:8 file=./snippets/intersection.ts
```

```ts 9 file=./snippets/intersection.ts
```


</CodeSurfer>

---

# Union Types

---

<CodeSurfer>


```ts file=./snippets/union.ts
```

```ts 1,2 file=./snippets/union.ts
```

```ts 3 file=./snippets/union.ts
```

```ts 5:8 file=./snippets/union.ts
```

```ts 1[16:27],2[16:27],6,7[17:20] file=./snippets/union.ts
```

```ts 10:13 file=./snippets/union.ts
```

```ts 10[19:32] file=./snippets/union.ts
```

```ts 10[35:51] file=./snippets/union.ts
```

```ts 11,12 file=./snippets/union.ts
```

```ts file=./snippets/union.ts
```

</CodeSurfer>

---

<img src={sayMyNameBeyonce} style={{height: "90%"}} />

---

<img src={sayMyNameVoldemort} style={{height: "90%"}} />


---


# Never

---

<CodeSurfer>

```ts file=./snippets/never.ts
```

```ts 1:3 file=./snippets/never.ts
```

```ts 1[31:36] file=./snippets/never.ts
```

```ts 1[39:45] file=./snippets/never.ts
```

```ts 5:8 file=./snippets/never.ts
```

```ts 10:19 file=./snippets/never.ts
```

```ts 17 file=./snippets/never.ts
```


```ts file=./snippets/never-with-error.ts
```

</CodeSurfer>


---

# Transitive Properties

---

<CodeSurfer>

```ts file=./snippets/properties-never.ts
```

```ts 1[10:25],2[10:25],3[10:23] file=./snippets/properties-never.ts
```

```ts 1[29:40],2[29:40],3[27:40] file=./snippets/properties-never.ts
```

```ts 5[10:25],6[10:25],7[10:23]  file=./snippets/properties-never.ts
```

```ts 5[29:40],6[29:40],7[27:40] file=./snippets/properties-never.ts
```


</CodeSurfer>

---

<CodeSurfer>

```ts file=./snippets/properties-unknown.ts
```

```ts 1[10:26],2[10:26],3[10:24] file=./snippets/properties-unknown.ts
```

```ts 1[30:40],2[30:40],3[28:40] file=./snippets/properties-unknown.ts
```

```ts 5[10:26],6[10:26],7[10:24]  file=./snippets/properties-unknown.ts
```

```ts 5[30:40],6[30:40],7[28:40] file=./snippets/properties-unknown.ts
```
</CodeSurfer>

---

<CodeSurfer>

```ts file=./snippets/properties-any.ts
```

</CodeSurfer>

---

# Generics

---

<img src={taylorExcited} style={{height: "90%"}} />

---

<CodeSurfer>

```ts 1:3 file=./snippets/generics.ts
```

```ts 1[18:20,27,31] file=./snippets/generics.ts
```

```ts 5[23:50],6[26:74],7[23:40] file=./snippets/generics.ts
```

```ts 5[14:20],6[15:23],7[14:20] file=./snippets/generics.ts
```

```ts file=./snippets/generics.ts
```


</CodeSurfer>

---

<CodeSurfer>

```ts file=./snippets/generics-custom.ts
```

```ts 1:2 file=./snippets/generics-custom.ts
```

```ts 4 file=./snippets/generics-custom.ts
```

```ts 6:7 file=./snippets/generics-custom.ts
```


```ts 9:10 file=./snippets/generics-custom.ts
```

```ts 12:13 file=./snippets/generics-custom.ts
```

</CodeSurfer>

---

# Real World Generics

---

<CodeSurfer>

```ts 1:2 file=./snippets/generics-real.tsx
```

```ts 1[26:45] file=./snippets/generics-real.tsx
```


```ts 5 file=./snippets/generics-real.tsx
```

```ts 5[23:31] file=./snippets/generics-real.tsx
```


</CodeSurfer>

---

# Constraints


---

<CodeSurfer>

```ts file=./snippets/generics-constraints.ts
```

```ts 1:2 file=./snippets/generics-constraints.ts
```

```ts 4:5 file=./snippets/generics-constraints.ts
```

```ts 4[18:33] file=./snippets/generics-constraints.ts
```

```ts 5 file=./snippets/generics-constraints.ts
```

```ts 7:8 file=./snippets/generics-constraints.ts
```

```ts 2,10:12 file=./snippets/generics-constraints.ts
```


</CodeSurfer>


---

# Index in the Type Layer

---

<CodeSurfer>

```ts file=./snippets/indexing.ts
```

```ts 1:4 file=./snippets/indexing.ts
```

```ts 2,6:7 file=./snippets/indexing.ts
```

```ts 9:14 file=./snippets/indexing.ts
```

```ts 1:4,10 file=./snippets/indexing.ts
```

```ts 2[3:8],3[3:7],9[31:56],11 file=./snippets/indexing.ts
```

```ts 2[11:18],3[10:14],12[4:16],13 file=./snippets/indexing.ts
```

```ts file=./snippets/indexing.ts
```

</CodeSurfer>

---

# Type Narrowing

---

# I want the compiler to figure out what type we have

---

# Type Generation

---

<img src={doctorTransformation} style={{height: "90%"}} />

---

# Mapped Types

---

<CodeSurfer>

```ts file=./snippets/mapped.ts
```

```ts 1[20:33],4[1:10] file=./snippets/mapped.ts
```

```ts 1 file=./snippets/mapped.ts
```

</CodeSurfer>

---

<CodeSurfer>


```ts 1:5 file=./snippets/mapped-partial-example.ts
```

```ts 7 file=./snippets/mapped-partial-example.ts
```

```ts 8:13 file=./snippets/mapped-partial-example.ts
```

</CodeSurfer>

---

<CodeSurfer>


```ts 1:3 file=./snippets/mapped-partial.ts
```

```ts 1[13:15] file=./snippets/mapped-partial.ts
```

```ts 2[3:16] file=./snippets/mapped-partial.ts
```

```ts 2[4] file=./snippets/mapped-partial.ts
```

```ts 2[9:15] file=./snippets/mapped-partial.ts
```

```ts 2[17] file=./snippets/mapped-partial.ts
```

```ts 2[20:23] file=./snippets/mapped-partial.ts
```

```ts file=./snippets/mapped-partial.ts
```

</CodeSurfer>

---

<CodeSurfer>

```ts file=./snippets/mapped-pick.ts
```

```ts 5 file=./snippets/mapped-pick.ts
```

```ts 6:10 file=./snippets/mapped-pick.ts
```

```ts file=./snippets/mapped-pick.ts
```

```ts 1[11] file=./snippets/mapped-pick.ts
```

```ts 1[14:30] file=./snippets/mapped-pick.ts
```

```ts 2[9:15] file=./snippets/mapped-partial.ts
```

```ts 1[14:30] file=./snippets/mapped-pick.ts
```

```ts 2[3:10] file=./snippets/mapped-pick.ts
```

```ts 2[13:16] file=./snippets/mapped-pick.ts
```

```ts file=./snippets/mapped-pick.ts
```

</CodeSurfer>

---

# Conditional Types

---

<CodeSurfer>

```ts file=./snippets/conditional-syntax.ts
```

```ts 1 file=./snippets/conditional-syntax.ts
```

```ts 1[23:40] file=./snippets/conditional-syntax.ts
```

```ts 1[43:48] file=./snippets/conditional-syntax.ts
```

```ts 1[52:55] file=./snippets/conditional-syntax.ts
```

```ts 3 file=./snippets/conditional-syntax.ts
```

```ts 4 file=./snippets/conditional-syntax.ts
```

```ts file=./snippets/conditional-syntax.ts
```


</CodeSurfer>

---

<CodeSurfer>

```ts
type MustBePromise<T> = T extends Promise<unknown> ?
  Promise<unknown> : never;
```

```ts
type EventualType<T> = T extends Promise<unknown> ?
  Promise<unknown> : unknown;
```

</CodeSurfer>


---

# Inference Types

---

<img src={shrodinger} style={{height: '90%'}} />



---

<CodeSurfer>

```ts file=./snippets/infer-syntax.ts
```
```ts 1 file=./snippets/infer-syntax.ts
```

```ts 1[29:55] file=./snippets/infer-syntax.ts
```

```ts 1[47:53] file=./snippets/infer-syntax.ts
```

```ts 2[5] file=./snippets/infer-syntax.ts
```

```ts 2[5:13] file=./snippets/infer-syntax.ts
```


```ts 3,4 file=./snippets/infer-syntax.ts
```
```ts 1,2,3,6 file=./snippets/infer-syntax.ts
```
```ts 1,2,4,7 file=./snippets/infer-syntax.ts
```
```ts 1,2,8 file=./snippets/infer-syntax.ts
```

```ts file=./snippets/infer-syntax.ts
```

</CodeSurfer>

---

<CodeSurfer>

```ts file=./snippets/infer-function.ts
```
```ts 1 file=./snippets/infer-function.ts
```
```ts 1[19:58] file=./snippets/infer-function.ts
```
```ts 1[29:47] file=./snippets/infer-function.ts
```

```ts 2[5] file=./snippets/infer-function.ts
```
```ts 2[8:13] file=./snippets/infer-function.ts
```
```ts 4 file=./snippets/infer-function.ts
```

```ts 1,2,6 file=./snippets/infer-function.ts
```

```ts file=./snippets/infer-function.ts
```

</CodeSurfer>

---

<CodeSurfer>

```ts file=./snippets/infer-props.ts
```

```ts 1 file=./snippets/infer-props.ts
```

```ts 1[28:66] file=./snippets/infer-props.ts
```

```ts 1[59:65] file=./snippets/infer-props.ts
```

```ts 2[5] file=./snippets/infer-props.ts
```

```ts 2[8:13] file=./snippets/infer-props.ts
```

```ts 4 file=./snippets/infer-props.ts
```

```ts 1,2,6 file=./snippets/infer-props.ts
```

```ts 7 file=./snippets/infer-props.ts
```

```ts file=./snippets/infer-props.ts
```


</CodeSurfer>

---

# Type Narrowing

---

# Review

<ul style={{fontSize: '1em', marginTop: "-40px"}}>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Structural Typing
  </li>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Never & Unknown
  </li>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Unions & Intersections
  </li>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Generics
  </li>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Type Indexing
  </li>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Mapped Types
  </li>
  <li>
    <Emoji name="typescript.jpg" size="40px" /> Conditional Types & Infer
  </li>

</ul>

---

# Structural Typing

---

<CodeSurfer>

```ts
type Person = {
  name: string;
};

type Elf = {
  name: string;
};
```

</CodeSurfer>

---

# Never

## Hey TypeScript, if we get here something broke

---

# Unknown

## I don't know what type is here

---

# Unions
---

<CodeSurfer>

```ts
type Wizard = {name: string; spells: string[]};
type Muggle = {name: string};
type Person = Wizard | Muggle;
```

</CodeSurfer>

---

# Intersections

---

<CodeSurfer>

```ts
type Person = {name: string};
type SpellCaster = {spells: string[]};

type Wizard = Person & SpellCaster;
type Wizard = {name: string; spells: string[]};
```

</CodeSurfer>


---

# Generics

---

<CodeSurfer>

```ts
function identity<T>(foo: T): T {
  return foo;
}
```

</CodeSurfer>

---

<CodeSurfer>

```ts
type ReduxState = {
  people: Person[];
  elves: Elf[];
};

type People = ReduxState['people'];
type People = Person[];
```

</CodeSurfer>

---

# Mapped Types

---

<CodeSurfer>

```ts
type Partial<T> = {[P in keyof T]?: T[P]};

type Pick<T, K extends keyof T> = {
  [P in K]: T[P];
};
```

</CodeSurfer>

---

# Conditional Types

---

<CodeSurfer>

```ts
type EventualType<T> = T extends Promise<unknown> ?
  Promise<unknown> : unknown;
```

</CodeSurfer>

---

# Inference Types

---

<CodeSurfer>

```ts
type WhatDidYouPromise<T> = T extends Promise<infer A>
  ? A : never;
```

</CodeSurfer>

---

<img src={deepBreath} style={{height: "90%"}} />

---

# Remember just one thing

---

# Don't use any

---

# use unknown instead

---

<img src={thankYou} style={{height: "90%"}} />

---

<AboutMe />

---

# References

<ul style={{listStyle: 'inherit', fontSize: '0.75em'}}>
  <li>https://blog.logrocket.com/when-to-use-never-and-unknown-in-typescript-5e4d6c5799ad/</li>
  <li>https://medium.com/@jackhmwilliams/type-narrowing-in-typescript-44a6757c5a64</li>
</ul>
